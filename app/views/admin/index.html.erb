<!DOCTYPE html>
<html>
  <head>
    <title>Admin Course Portal</title>
  </head>

  <% flash.each do |type, msg| %>
    <div class="flash">
      <%= msg %>
    </div>
  <% end %>

  <main class="d-flex justify-content-center w-100 h-75 d-inline-block align-self-center bg-light">
    <div class="d-flex flex-column">
      <div class="mb-auto">
        <h1>Admin Update Course Portal</h1>
      </div>
      <div class="course-list h-75">
        <table>
          <thead>
            <tr>
              <th colspan="3"></th>
            </tr>
          </thead>
          <thead>
            <tr>
              <th><b>Course Identifier</b></th>
              <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>Course Name</b></th>
              <th><b>Call Number</b></th>
            </tr>
          </thead>
          <tbody>
            <% @courses.each do |course| %>
              <tr>
                <td>
                    <%= course.course_identifier %>
                </td>
                <td>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<%= course.course_name %>
                </td>
                <td>
                    <%= course.call_number %>
                </td>
                <td>
                    <%= link_to 'Edit', edit_course_path(course.id) %>
                </td>
              </tr>
              <%= hidden_field_tag :course_id, course.id %>
            <% end %>
          </tbody>
        </table>
      </div>

      <%= link_to 'Add new course', new_course_path, :class => 'btn btn-primary' %>

      <footer class="mt-auto pb-3">
        <% if logged_in? %>
          <a class="btn btn-secondary" <%= link_to 'Back to Audit Degree', student_path(@current_user.id) %></a>
        <% else %>
          <%= link_to 'Back', students_path, :class => 'btn btn-secondary' %>
        <% end %>
      </footer>
    </div>

  </main>

</html>
